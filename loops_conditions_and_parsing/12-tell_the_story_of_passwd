#!/usr/bin/env bash
# Making a story about /etc/passwd
passwd_file="/etc/passwd"

# Read the file line by line using while loop
while IFS=: read -r user_name _ user_id group_id _ home_directory command_shell; do
    # Extract additional information from the file
    password=$(grep -oP "${user_name}:[^:]*" ${passwd_file} | cut -d: -f2)
    user_info=$(grep -oP "${user_name}:[^:]*" ${passwd_file} | cut -d: -f5)

    # Display the information in the specified format
    echo "The user ${user_name} is part of the ${group_id} gang, lives in ${home_directory} and rides ${command_shell}."
    echo "User ID's place is protected by the passcode ${password}, more info about the user here: ${user_info}"
done < "${passwd_file}"
